UEsDBAoAAAAAAGlIA1tfUtVGyAIAAMgCAAALAAAAYWlkZWFzLmpzb257CiAgIm5hbWUiOiAiRm9yemEgNCIsCiAgInRpdGxlIjogIkZvcnphIDQiLAogICJkZXNjcmlwdGlvbiI6ICJGb3J6YSA0IC0gR2lvY28gZGkgdmVsb2NpdMOgIHN1cGVyYW5kbyBvc3RhY29saSBjb24gYW5pbWF6aW9uaSBlIGNvbG9yaSB2aWJyYW50aSIsCiAgImF1dGhvciI6ICJBSURlYXMucnVuIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImNhdGVnb3J5IjogInVuY2F0ZWdvcml6ZWQiLAogICJ0YWdzIjogWwogICAgIkZvcnphIiwKICAgICJHaW9jbyIsCiAgICAiVmVsb2NpdMOgIiwKICAgICJDaGFsbGVuZ2UiLAogICAgIlNwZWVkIgogIF0sCiAgImljb24iOiAi4pyoIiwKICAiZ2l0aHViVXJsIjogbnVsbCwKICAicGVybWlzc2lvbnMiOiBbXSwKICAibWV0YWRhdGEiOiB7CiAgICAic291cmNlIjogIm1hbnVhbCIsCiAgICAidW5pcXVlSWQiOiAiZm9yemE0LmFpZGVhc3J1biIsCiAgICAic2VjdXJpdHlSZXBvcnQiOiB7CiAgICAgICJvdmVyYWxsIjogInNhZmUiLAogICAgICAic2NvcmUiOiAxMDAsCiAgICAgICJpc3N1ZXMiOiBbXSwKICAgICAgInJlY29tbWVuZGF0aW9ucyI6IFsKICAgICAgICAiQXBwIGFwcGVhcnMgdG8gYmUgc2FmZSBmb3IgaW5zdGFsbGF0aW9uIgogICAgICBdCiAgICB9LAogICAgInN1Ym1pdHRlZEF0IjogIjIwMjUtMDgtMDNUMDk6MDM6MTguNTgzWiIsCiAgICAic3VibWl0dGVkQnkiOiAibWNjb3k4OGYiCiAgfQp9UEsDBAoAAAAAAGlIA1uf9Yau/CIAAPwiAAAKAAAAaW5kZXguaHRtbDwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJpdCI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IkZvcnphIDQgLSBHaW9jbyBkaSB2ZWxvY2l0w6Agc3VwZXJhbmRvIG9zdGFjb2xpIGNvbiBhbmltYXppb25pIGUgY29sb3JpIHZpYnJhbnRpIj4KICAgIDxtZXRhIG5hbWU9ImtleXdvcmRzIiBjb250ZW50PSJGb3J6YSwgR2lvY28sIFZlbG9jaXTDoCwgQ2hhbGxlbmdlLCBTcGVlZCI+CiAgICA8bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9IkFJRGVhcy5ydW4iPgogICAgPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IiNmZjQ3NTciPgogICAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9zdmcreG1sIiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BpY29uaWZ5LWljb25zL3N2Zy9yYWNpbmctZmxhZy5zdmciPgogICAgCiAgICA8dGl0bGU+Rm9yemEgNDwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgOnJvb3QgewogICAgICAgICAgICAtLXByaW1hcnktY29sb3I6ICNmZjQ3NTc7CiAgICAgICAgICAgIC0tc2Vjb25kYXJ5LWNvbG9yOiAjZmY4ZThlOwogICAgICAgICAgICAtLXRleHQtY29sb3I6ICMzMzM7CiAgICAgICAgICAgIC0tYmctY29sb3I6ICNmMGYwZjA7CiAgICAgICAgICAgIC0tZ2FtZS1jb250YWluZXI6ICNmZmY7CiAgICAgICAgICAgIC0tY2FyLXRyYWlsOiByZ2JhKDI1NSwgNzEsIDg3LCAwLjMpOwogICAgICAgICAgICAtLW9ic3RhY2xlLWNvbG9yOiAjNjY2OwogICAgICAgICAgICAtLWZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBzYW5zLXNlcmlmOwogICAgICAgIH0KCiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSwgdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKSk7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseSk7CiAgICAgICAgfQoKICAgICAgICAuZ2FtZS1jb250YWluZXIgewogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXgtd2lkdGg6IDEwMHZ3OwogICAgICAgICAgICBoZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nYW1lLWNvbnRhaW5lcik7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwwLDAsMC4zKTsKICAgICAgICB9CgogICAgICAgIC5jYXIgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHdpZHRoOiA3MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDEyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHZhcigtLXByaW1hcnktY29sb3IpLCB2YXIoLS1zZWNvbmRhcnktY29sb3IpKTsKICAgICAgICAgICAgYm90dG9tOiA0MHB4OwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgYW5pbWF0aW9uOiB0cmFpbCAxLjVzIGluZmluaXRlIGFsdGVybmF0ZTsKICAgICAgICB9CgogICAgICAgIC5vYnN0YWNsZSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgd2lkdGg6IDYwcHg7CiAgICAgICAgICAgIGhlaWdodDogMTIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLW9ic3RhY2xlLWNvbG9yKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxsIGxpbmVhcjsKICAgICAgICB9CgogICAgICAgIC5zY29yZS1kaXNwbGF5IHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDIwcHg7CiAgICAgICAgICAgIGxlZnQ6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsKICAgICAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CgogICAgICAgIC5nYW1lLW92ZXIgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogNTAlOwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5jb250cm9scyB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYm90dG9tOiAyMHB4OwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICB9CgogICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMzBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7CiAgICAgICAgICAgIC5jYXIgewogICAgICAgICAgICAgICAgd2lkdGg6IDEyMHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDsKICAgICAgICAgICAgICAgIGJvdHRvbTogODBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAub2JzdGFjbGUgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAuY29udHJvbHMgewogICAgICAgICAgICAgICAgYm90dG9tOiA0MHB4OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIHRyYWlsIHsKICAgICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDAuNzsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9CiAgICAgICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTsgfQogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBmYWxsIHsKICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwMHB4KTsgb3BhY2l0eTogMDsgfQogICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHZoKTsgb3BhY2l0eTogMTsgfQogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJnYW1lLWNvbnRhaW5lciIgaWQ9ImdhbWVDb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InNjb3JlLWRpc3BsYXkiPlNjb3JlOiA8c3BhbiBpZD0ic2NvcmUiPjA8L3NwYW4+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1vdmVyIiBpZD0iZ2FtZU92ZXIiPlBFUkRVVE8hPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyIiBpZD0iY2FyIj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InJlc2V0QnRuIj5SZXNldHRhPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InJlc3RhcnRCdG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+TnVvdm8gR2lybzwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVDb250YWluZXInKTsKICAgICAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUnKTsKICAgICAgICBjb25zdCBnYW1lT3ZlclNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lT3ZlcicpOwogICAgICAgIGNvbnN0IGNhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXInKTsKICAgICAgICBjb25zdCByZXNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldEJ0bicpOwogICAgICAgIGNvbnN0IHJlc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGFydEJ0bicpOwoKICAgICAgICBsZXQgc2NvcmUgPSAwOwogICAgICAgIGxldCBvYnN0YWNsZUludGVydmFsOwogICAgICAgIGxldCBnYW1lUnVubmluZyA9IGZhbHNlOwogICAgICAgIGNvbnN0IG9ic3RhY2xlU3BlZWQgPSAyOwogICAgICAgIGNvbnN0IG9ic3RhY2xlQ291bnQgPSAxMDsKICAgICAgICBsZXQgbGFzdE9ic3RhY2xlVGltZSA9IDA7CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9ic3RhY2xlKCkgewogICAgICAgICAgICBjb25zdCBvYnN0YWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBvYnN0YWNsZS5jbGFzc05hbWUgPSAnb2JzdGFjbGUnOwogICAgICAgICAgICBvYnN0YWNsZS5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5yYW5kb20oKSAqIDEwMH0lYDsKICAgICAgICAgICAgb2JzdGFjbGUuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSBgJHtNYXRoLnJhbmRvbSgpICogMyArIDJ9c2A7CiAgICAgICAgICAgIG9ic3RhY2xlLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7TWF0aC5yYW5kb20oKSAqIDV9c2A7CiAgICAgICAgICAgIG9ic3RhY2xlLnN0eWxlLmFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uID0gYGN1YmljLWJlemllcigwLjI1LCAwLjEsIDAuMjUsIDEpYDsKICAgICAgICAgICAgb2JzdGFjbGUuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICR7TWF0aC5yYW5kb20oKSAqIDEwMH0lIDAlLCAke01hdGgucmFuZG9tKCkgKiAxMDB9JSAxMDAlKWA7CiAgICAgICAgICAgIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQob2JzdGFjbGUpOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IG9ic3RhY2xlSW5kZXggPSBvYnN0YWNsZUluZGV4OwogICAgICAgICAgICBjb25zdCBvYnN0YWNsZUlkID0gb2JzdGFjbGUuaWQ7CiAgICAgICAgICAgIAogICAgICAgICAgICBvYnN0YWNsZS5hZGRFdmVudExpc3RlbmVyKCdjb2xsaXNpb24nLCAoKSA9PiB7CiAgICAgICAgICAgICAgICBvYnN0YWNsZS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIHNjb3JlLS07CiAgICAgICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoc2NvcmUgPD0gMCkgewogICAgICAgICAgICAgICAgICAgIGdhbWVPdmVyKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbW92ZUNhcigpIHsKICAgICAgICAgICAgY29uc3QgY2FyUmVjdCA9IGNhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgY29uc3QgZ2FtZUNvbnRhaW5lclJlY3QgPSBnYW1lQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYoY2FyUmVjdC5yaWdodCA+IGdhbWVDb250YWluZXJSZWN0LnJpZ2h0KSB7CiAgICAgICAgICAgICAgICBjYXIuc3R5bGUubGVmdCA9IGAke3BhcnNlSW50KGNhci5zdHlsZS5sZWZ0KSAtIDJ9cHhgOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGNhclJlY3QubGVmdCA8IDApIHsKICAgICAgICAgICAgICAgIGNhci5zdHlsZS5sZWZ0ID0gYCR7cGFyc2VJbnQoY2FyLnN0eWxlLmxlZnQpICsgMn1weGA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlT2JzdGFjbGVzKCkgewogICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICBpZihub3cgLSBsYXN0T2JzdGFjbGVUaW1lID4gMTAwMCkgewogICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9ic3RhY2xlQ291bnQ7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNyZWF0ZU9ic3RhY2xlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsYXN0T2JzdGFjbGVUaW1lID0gbm93OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnYW1lT3ZlcigpIHsKICAgICAgICAgICAgZ2FtZVJ1bm5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgZ2FtZU92ZXJTY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIHJlc2V0QnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICByZXN0YXJ0QnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZXNldEdhbWUoKSB7CiAgICAgICAgICAgIHNjb3JlID0gMDsKICAgICAgICAgICAgc2NvcmVEaXNwbGF5LnRleHRDb250ZW50ID0gc2NvcmU7CiAgICAgICAgICAgIGdhbWVPdmVyU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIHJlc2V0QnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIHJlc3RhcnRCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIAogICAgICAgICAgICBnYW1lQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBnYW1lQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnOwogICAgICAgICAgICBjbGVhckludGVydmFsKG9ic3RhY2xlSW50ZXJ2YWwpOwogICAgICAgICAgICBnYW1lUnVubmluZyA9IHRydWU7CiAgICAgICAgICAgIHNjb3JlID0gMDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgaWYoIWdhbWVSdW5uaW5nKSB7CiAgICAgICAgICAgICAgICBnYW1lUnVubmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBzY29yZSA9IDA7CiAgICAgICAgICAgICAgICBzY29yZURpc3BsYXkudGV4dENvbnRlbnQgPSBzY29yZTsKICAgICAgICAgICAgICAgIGdhbWVPdmVyU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICByZXNldEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgcmVzdGFydEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGdhbWVDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG9ic3RhY2xlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChnZW5lcmF0ZU9ic3RhY2xlcywgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVHYW1lKCkgewogICAgICAgICAgICBnYW1lQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpc2lvbicsIGUgPT4gewogICAgICAgICAgICAgICAgaWYoIWdhbWVSdW5uaW5nKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ29ic3RhY2xlJykpIHsKICAgICAgICAgICAgICAgICAgICBnYW1lT3ZlcigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgICAgICAgICAgaWYoIWdhbWVSdW5uaW5nKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZihlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7CiAgICAgICAgICAgICAgICAgICAgY2FyLnN0eWxlLmxlZnQgPSBgJHtwYXJzZUludChjYXIuc3R5bGUubGVmdCkgKyAyfXB4YDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihlLmtleSA9PT0gJ0Fycm93TGVmdCcpIHsKICAgICAgICAgICAgICAgICAgICBjYXIuc3R5bGUubGVmdCA9IGAke3BhcnNlSW50KGNhci5zdHlsZS5sZWZ0KSAtIDJ9cHhgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJlc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXRHYW1lKTsKCiAgICAgICAgICAgIHJlc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydEdhbWUpOwogICAgICAgICAgICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0R2FtZSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhbmltYXRlKCkgewogICAgICAgICAgICBpZihnYW1lUnVubmluZykgewogICAgICAgICAgICAgICAgbW92ZUNhcigpOwogICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzdGFydEdhbWUoKTsKICAgICAgICBhbmltYXRlKCk7CiAgICAgICAgaW5pdGlhbGl6ZUdhbWUoKTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD5QSwMECgAAAAAAaUgDWwAAAAAAAAAAAAAAAAkAAABfX01BQ09TWC9QSwMECgAAAAAAaUgDW1J0fIqvAAAArwAAABUAAABfX01BQ09TWC8uX2luZGV4Lmh0bWwABRYHAAIAAE1hYyBPUyBYICAgICAgICAAAgAAAAkAAAAyAAAAfQAAAAIAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBVFRSAAAAAAAAAAcAAAAAAAAAFwAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAFwAAFWNvbS5hcHBsZS5xdWFyYW50aW5lAHEvMDA4MTs2ODdjYzc3MTtCcmF2ZTsAUEsBAhQACgAAAAAAaUgDW19S1UbIAgAAyAIAAAsAAAAAAAAAAAAAAAAAAAAAAGFpZGVhcy5qc29uUEsBAhQACgAAAAAAaUgDW5/1hq78IgAA/CIAAAoAAAAAAAAAAAAAAAAA8QIAAGluZGV4Lmh0bWxQSwECFAAKAAAAAABpSANbAAAAAAAAAAAAAAAACQAAAAAAAAAAABAAAAAVJgAAX19NQUNPU1gvUEsBAhQACgAAAAAAaUgDW1J0fIqvAAAArwAAABUAAAAAAAAAAAAAAAAAPCYAAF9fTUFDT1NYLy5faW5kZXguaHRtbFBLBQYAAAAABAAEAOsAAAAeJwAAAAA=